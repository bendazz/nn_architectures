/* Light theme palette */
:root {
  --bg: #f9fafb;
  --panel: #ffffff;
  --border: #d0d7de;
  --text: #1f2937;
  --muted: #4b5563;
  --accent: #2563eb;
  --accent-soft: #93c5fd;
  --edge: #60a5fa;
  --node-fill: #ffffff;
  --node-stroke: #94a3b8;
  --traveler: #ef4444;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}
header {
  padding: 1.5rem 1rem 0.5rem;
  text-align: center;
}
header h1 { margin: 0 0 0.25rem; font-size: clamp(1.4rem, 2.4vw, 2.2rem); font-weight: 600; }
.subtitle { margin: 0; color: var(--muted); font-size: 0.95rem; }

.page-links { margin-top: 0.35rem; }
.page-links a { color: var(--accent); font-weight: 600; text-decoration: none; }
.page-links a:hover { text-decoration: underline; }

main { max-width: 960px; margin: 0 auto; padding: 0 1rem 2rem; }
.network-wrapper { margin: 1.5rem auto; background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 1rem; box-shadow: 0 2px 6px rgba(0,0,0,0.04); }

.network-wrapper { position: relative; }

.network-wrapper .panel-btn { position: absolute; right: 1rem; bottom: 1rem; z-index: 3; }

svg { width: 100%; height: auto; display: block; }
.node { fill: var(--node-fill); stroke: var(--node-stroke); stroke-width: 2.5; }
.node-label { font-size: 0.85rem; fill: var(--muted); pointer-events: none; font-weight: 600; }
.edge { stroke: var(--edge); stroke-width: 6; stroke-linecap: round; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1)); }
.traveler { fill: var(--traveler); stroke: #fff; stroke-width: 2; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2)); }

.controls { display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin: 0.5rem auto 1.25rem; padding: 0.75rem 1rem; background: var(--panel); border: 1px solid var(--border); border-radius: 10px; }
#sendBtn {
  background: var(--accent);
  color: #fff;
  border: none;
  font: inherit;
  padding: 0.65rem 1.1rem;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: background 0.25s, transform 0.15s;
}
#sendBtn:hover { background: var(--accent-soft); }
#sendBtn:active { transform: translateY(2px); }
#sendBtn:disabled { background: var(--border); cursor: not-allowed; }

/* Make any panel button match the main send button styling */
.panel-btn {
  background: var(--accent);
  color: #fff;
  border: none;
  font: inherit;
  padding: 0.65rem 1.1rem;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: background 0.25s, transform 0.15s;
}
.panel-btn:hover { background: var(--accent-soft); }
.panel-btn:active { transform: translateY(2px); }
.panel-btn:disabled { background: var(--border); cursor: not-allowed; }

.panel-title { margin: 0 0 0.6rem; font-size: 1.05rem; font-weight: 600; color: var(--text); }

/* Bias node appearance: slightly shaded to indicate a bias unit */
.node.bias {
  fill: var(--accent-soft);
  fill-opacity: 0.18;
  stroke: var(--accent);
}

/* Flash animation used to indicate activation (e.g. logistic output) */
@keyframes node-flash {
  0% { fill: var(--node-fill); fill-opacity: 1; stroke: var(--node-stroke); }
  40% { fill: var(--accent); fill-opacity: 0.95; stroke: var(--accent); }
  100% { fill: var(--node-fill); fill-opacity: 1; stroke: var(--node-stroke); }
}
.node.flash {
  animation: node-flash 480ms ease-in-out 2;
}

.legend { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; color: var(--muted); }
.swatch { width: 18px; height: 18px; border-radius: 4px; border: 2px solid var(--border); }
.edge-swatch { background: linear-gradient(90deg,var(--edge), var(--accent-soft)); }

.explanation { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.2rem; }
.explanation h2 { margin-top: 0; font-size: 1.1rem; }
.explanation p { margin: 0.3rem 0 0; font-size: 0.95rem; }

footer { text-align: center; padding: 1.5rem 0 2rem; font-size: 0.75rem; color: var(--muted); }

@media (prefers-reduced-motion: reduce) {
  .traveler { transition: none; }
}
